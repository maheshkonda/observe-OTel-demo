# Observe data token
token: "ds1n93RpShyZ677YvA54:mPtIXjWNJFZhgPluRUn691_et-axB15w"

# Target Observe collection url
observe_url: "https://111574648308.collect.observeinc.com/"

# Debug mode - Sets agent log level to debug
debug: false

# Collect metrics and logs pertaining to the agent itself
self_monitoring:
  enabled: true

# Collect metrics and logs about the host system
host_monitoring:
  enabled: true
  # Collect logs of all running processes from the host system
  logs: 
    enabled: true
  metrics:
    # Collect metrics about the host system
    host:
      enabled: true
    # Collect metrics about the processes running on the host system
    process:
      enabled: false

# OpenTelemetry configuration overrides
otel_config_overrides:
  processors:
    filter/metrics:
      metrics:
        include:
          match_type: regexp
          metric_names:
            - process\..*\.time
            - system\.cpu\..*
            - .*\.utilization

  service:
    pipelines:
      metrics/forward:
        receivers: [otlp]
        processors: [resourcedetection, resourcedetection/cloud, filter/metrics]
        exporters: [otlphttp/observe]
        
      metrics/host_monitoring_host:
        receivers: [hostmetrics/host-monitoring-host]
        processors: [memory_limiter, resourcedetection, resourcedetection/cloud, batch, filter/metrics]
        exporters: [otlphttp/observe]

      metrics/host_monitoring_process:
        receivers: [hostmetrics/host-monitoring-process]
        processors: [memory_limiter, resourcedetection, resourcedetection/cloud, batch, filter/metrics]
        exporters: [otlphttp/observe]
        
      metrics/agent-filestats:
        receivers: [filestats/agent]
        processors: [resourcedetection, resourcedetection/cloud, filter/metrics]
        exporters: [otlphttp/observe]

      metrics/agent-internal:
        receivers: [prometheus/agent, count]
        processors: [memory_limiter, transform/truncate, resourcedetection, resourcedetection/cloud, batch, filter/metrics]
        exporters: [otlphttp/observe]
